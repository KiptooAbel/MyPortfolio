import{u as I,W as C,r as S,j as e,Y as D}from"./app-BrkzhkEa.js";import{A as E}from"./AuthenticatedLayout-Bw4ZZPb6.js";import{I as j,T as v}from"./TextInput-BC2JZokV.js";import{I as b}from"./InputLabel-Bh47Nnu3.js";import{T as N}from"./TextArea-lfmykv4S.js";import{P as T}from"./PrimaryButton-CdwXYJWc.js";import{S as F}from"./SecondaryButton-CRCNtqdQ.js";import"./transition-C5etkn0J.js";import"./createLucideIcon-aoTBZc2j.js";const z=({about:s})=>{const{theme:$}=I(),r=$==="dark",{data:c,setData:o,post:A,processing:h,errors:y}=C({title:s.title||"",bio:s.bio||"",short_description:s.short_description||"",profile_image:null,experiences:Array.isArray(s.experiences)?s.experiences:[],education:Array.isArray(s.education)?s.education:[],testimonials:Array.isArray(s.testimonials)?s.testimonials:[],certifications:Array.isArray(s.certifications)?s.certifications:[],personal_info:s.personal_info||{},_method:"put"}),[f,w]=S.useState(s.profile_image?`/storage/${s.profile_image}`:null),_=a=>{a.preventDefault(),A(route("admin.about.update",s.id))},P=a=>{const t=a.target.files[0];if(o("profile_image",t),t){const n=new FileReader;n.onloadend=()=>w(n.result),n.readAsDataURL(t)}},g=(a,t,n=null,d=null,m=null)=>{const i=[...c[a]||[]];if(t==="add"){const l={experiences:{title:"",company:"",period:"",description:""},education:{degree:"",institution:"",period:""},certifications:{name:"",issuer:"",date:""},testimonials:{name:"",position:"",content:""}};o(a,[...i,l[a]])}else t==="update"?(i[n][d]=m,o(a,i)):t==="remove"&&(i.splice(n,1),o(a,i))},p=(a,t,n="text",d,m,i=!1)=>e.jsxs("div",{className:"mb-4",children:[e.jsx(b,{htmlFor:t,value:a,className:r?"text-gray-300":""}),i?e.jsx(N,{id:t,value:d,className:`mt-1 block w-full ${r?"bg-gray-700 border-gray-600 text-gray-200":""}`,onChange:m,rows:3}):e.jsx(v,{id:t,type:n,value:d,className:`mt-1 block w-full ${r?"bg-gray-700 border-gray-600 text-gray-200":""}`,onChange:m}),e.jsx(j,{message:y[t],className:"mt-2"})]}),x=(a,t,n)=>{const d=Array.isArray(c[t])?c[t]:[];return e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-lg font-medium ${r?"text-gray-100":"text-gray-900"} mb-4`,children:a}),d.map((m,i)=>e.jsxs("div",{className:`p-4 rounded-md mb-4 border ${r?"border-gray-700 bg-gray-750":"border-gray-200 bg-gray-50"}`,children:[n.map(l=>e.jsxs("div",{className:"mb-2",children:[e.jsx(b,{htmlFor:`${t}-${l.name}-${i}`,value:l.label,className:r?"text-gray-300":""}),l.multiline?e.jsx(N,{id:`${t}-${l.name}-${i}`,value:m[l.name]||"",className:`mt-1 block w-full ${r?"bg-gray-700 border-gray-600 text-gray-200":""}`,onChange:u=>g(t,"update",i,l.name,u.target.value),rows:3}):e.jsx(v,{id:`${t}-${l.name}-${i}`,type:"text",value:m[l.name]||"",className:`mt-1 block w-full ${r?"bg-gray-700 border-gray-600 text-gray-200":""}`,onChange:u=>g(t,"update",i,l.name,u.target.value)})]},l.name)),e.jsx("div",{className:"mt-2 flex justify-end",children:e.jsx("button",{type:"button",className:`px-3 py-1 ${r?"bg-red-700 hover:bg-red-600":"bg-red-600 hover:bg-red-700"} text-white text-sm font-medium rounded-md`,onClick:()=>g(t,"remove",i),children:"Remove"})})]},i)),e.jsxs("button",{type:"button",className:`px-4 py-2 ${r?"bg-blue-700 hover:bg-blue-600":"bg-blue-600 hover:bg-blue-700"} text-white text-sm font-medium rounded-md`,onClick:()=>g(t,"add"),children:["Add ",a]})]})};return e.jsxs(E,{children:[e.jsx(D,{title:"Edit About Page"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h2",{className:`text-xl font-bold ${r?"text-gray-100":"text-gray-900"}`,children:"Edit About Page"})}),e.jsx("div",{className:`${r?"bg-gray-800":"bg-white"} shadow overflow-hidden sm:rounded-lg`,children:e.jsxs("form",{onSubmit:_,className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-lg font-medium ${r?"text-gray-100":"text-gray-900"} mb-4`,children:"General Information"}),p("Title","title","text",c.title,a=>o("title",a.target.value)),p("Short Description","short_description","text",c.short_description,a=>o("short_description",a.target.value),!0),p("Bio","bio","text",c.bio,a=>o("bio",a.target.value),!0),e.jsxs("div",{className:"mb-4",children:[e.jsx(b,{htmlFor:"profile_image",value:"Profile Image",className:r?"text-gray-300":""}),e.jsxs("div",{className:"mt-1 flex items-center",children:[f&&e.jsx("img",{src:f,alt:"Profile Preview",className:"h-16 w-16 object-cover rounded-md mr-4"}),e.jsx("input",{id:"profile_image",type:"file",className:`block w-full text-sm ${r?"text-gray-300":"text-gray-900"}`,onChange:P,accept:"image/*"})]}),e.jsx(j,{message:y.profile_image,className:"mt-2"})]})]}),x("Experience","experiences",[{name:"title",label:"Title"},{name:"company",label:"Company"},{name:"period",label:"Period"},{name:"description",label:"Description",multiline:!0}]),x("Education","education",[{name:"degree",label:"Degree"},{name:"institution",label:"Institution"},{name:"period",label:"Period"}]),x("Certifications","certifications",[{name:"name",label:"Name"},{name:"issuer",label:"Issuer"},{name:"date",label:"Date"}]),x("Testimonials","testimonials",[{name:"name",label:"Name"},{name:"position",label:"Position"},{name:"content",label:"Content",multiline:!0}]),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx(F,{as:"a",href:route("admin.about.index"),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:h,className:r?"bg-green-700 hover:bg-green-600":"",children:h?"Saving...":"Save Changes"})]})]})})]})})]})};export{z as default};
